import { useContext } from "react";
import { activeNavContext } from "../pages";
import { activeState } from "../types/type";

export const SideNav: React.FC<{
  setNavOpen: () => void;
  onChangeActiveNav: (str: string) => void;
}> = ({ setNavOpen, onChangeActiveNav }) => {
  const { activeNav, sideNavOpen } = useContext(activeNavContext);

  const handleToggleNav = () => setNavOpen();
  const handleChangeNavState = (str: string) => {
    if (activeNav === str) console.log("sama");
    onChangeActiveNav(str);
  };

  return (
    <>
      <div
        className={`${
          !sideNavOpen ? "-left-[999px] lg:w-0" : "left-0 lg:w-[260px]"
        } h-[100vh] w-full transition-all duration-1000 ease-in-out bg-black/50 absolute  top-0 flex overflow-hidden lg:static  `}
      >
        <nav className="max-w-[300px] h-full bg-[#F6F6F9] pt-[21px] px-3 flex flex-col gap-2 grow fill-[#2D3657]">
          <h1 className="text-[#A3A8AD] font-semibold text-sm">Analysis</h1>

          <button
            onClick={() => handleChangeNavState(activeState.DASHBOARD)}
            className={`${
              activeNav === activeState.DASHBOARD
                ? "bg-green-600 fill-white"
                : "bg-white text-[#2D3657]"
            } h-[42px] w-full flex items-center gap-2 px-3 rounded-md`}
          >
            <div id="icon" className="">
              <svg
                width="21"
                height="20"
                viewBox="0 0 21 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M18.5625 7.53125C18.1233 6.49162 17.4865 5.54708 16.6875 4.75C15.8904 3.95099 14.9459 3.31423 13.9063 2.875C12.8262 2.41797 11.6816 2.1875 10.5 2.1875C9.31836 2.1875 8.17383 2.41797 7.09375 2.875C6.05412 3.31423 5.10958 3.95099 4.3125 4.75C3.51349 5.54708 2.87673 6.49162 2.4375 7.53125C1.98047 8.61133 1.75 9.75586 1.75 10.9375C1.75 13.5293 2.88867 15.9707 4.87305 17.6387L4.90625 17.666C5.01953 17.7598 5.16211 17.8125 5.30859 17.8125H15.6934C15.8398 17.8125 15.9824 17.7598 16.0957 17.666L16.1289 17.6387C18.1113 15.9707 19.25 13.5293 19.25 10.9375C19.25 9.75586 19.0176 8.61133 18.5625 7.53125ZM15.3711 16.3281H5.62891C4.87421 15.6476 4.27103 14.8161 3.85851 13.8874C3.44599 12.9587 3.23334 11.9537 3.23438 10.9375C3.23437 8.99609 3.99023 7.17187 5.36328 5.80078C6.73633 4.42773 8.56055 3.67188 10.5 3.67188C12.4414 3.67188 14.2656 4.42773 15.6367 5.80078C17.0098 7.17383 17.7656 8.99805 17.7656 10.9375C17.7656 13 16.8965 14.9512 15.3711 16.3281ZM12.6777 8.23242C12.6484 8.20334 12.6087 8.18703 12.5674 8.18703C12.5261 8.18703 12.4864 8.20334 12.457 8.23242L10.8066 9.88281C10.4414 9.78516 10.0371 9.87891 9.75 10.166C9.64831 10.2675 9.56763 10.3881 9.51258 10.5208C9.45754 10.6535 9.4292 10.7958 9.4292 10.9395C9.4292 11.0831 9.45754 11.2254 9.51258 11.3581C9.56763 11.4908 9.64831 11.6114 9.75 11.7129C9.8515 11.8146 9.97206 11.8953 10.1048 11.9503C10.2375 12.0054 10.3798 12.0337 10.5234 12.0337C10.6671 12.0337 10.8094 12.0054 10.9421 11.9503C11.0748 11.8953 11.1954 11.8146 11.2969 11.7129C11.4329 11.5773 11.5307 11.4082 11.5804 11.2226C11.6302 11.0371 11.63 10.8417 11.5801 10.6562L13.2305 9.00586C13.291 8.94531 13.291 8.8457 13.2305 8.78516L12.6777 8.23242V8.23242ZM10.0703 6.25H10.9297C11.0156 6.25 11.0859 6.17969 11.0859 6.09375V4.53125C11.0859 4.44531 11.0156 4.375 10.9297 4.375H10.0703C9.98437 4.375 9.91406 4.44531 9.91406 4.53125V6.09375C9.91406 6.17969 9.98437 6.25 10.0703 6.25ZM15.1484 10.5078V11.3672C15.1484 11.4531 15.2187 11.5234 15.3047 11.5234H16.8672C16.9531 11.5234 17.0234 11.4531 17.0234 11.3672V10.5078C17.0234 10.4219 16.9531 10.3516 16.8672 10.3516H15.3047C15.2187 10.3516 15.1484 10.4219 15.1484 10.5078ZM15.3965 6.65625L14.7891 6.04883C14.7597 6.01975 14.72 6.00344 14.6787 6.00344C14.6374 6.00344 14.5977 6.01975 14.5684 6.04883L13.4629 7.1543C13.4338 7.18366 13.4175 7.22332 13.4175 7.26465C13.4175 7.30598 13.4338 7.34563 13.4629 7.375L14.0703 7.98242C14.1309 8.04297 14.2305 8.04297 14.291 7.98242L15.3965 6.87695C15.457 6.81641 15.457 6.7168 15.3965 6.65625ZM6.43945 6.04883C6.41009 6.01975 6.37043 6.00344 6.3291 6.00344C6.28777 6.00344 6.24812 6.01975 6.21875 6.04883L5.61133 6.65625C5.58225 6.68562 5.56594 6.72527 5.56594 6.7666C5.56594 6.80793 5.58225 6.84759 5.61133 6.87695L6.7168 7.98242C6.77734 8.04297 6.87695 8.04297 6.9375 7.98242L7.54492 7.375C7.60547 7.31445 7.60547 7.21484 7.54492 7.1543L6.43945 6.04883ZM5.61719 10.3516H4.05469C3.96875 10.3516 3.89844 10.4219 3.89844 10.5078V11.3672C3.89844 11.4531 3.96875 11.5234 4.05469 11.5234H5.61719C5.70313 11.5234 5.77344 11.4531 5.77344 11.3672V10.5078C5.77344 10.4219 5.70313 10.3516 5.61719 10.3516Z" />
              </svg>
            </div>
            <h2
              className={`${
                activeNav === activeState.DASHBOARD
                  ? "text-white"
                  : "text-[#2D3657]"
              } font-medium`}
            >
              DashBoard
            </h2>
          </button>

          <button
            onClick={() => handleChangeNavState(activeState.SALES)}
            className={`${
              activeNav === activeState.SALES
                ? "bg-green-600 fill-white text-white"
                : "bg-white text-[#2D3657]"
            } h-[42px] w-full  flex items-center gap-2 px-3 rounded-md`}
          >
            <div id="salesIcon">
              <svg
                width="21"
                height="20"
                viewBox="0 0 21 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M17.8438 15.4688H4.40625V3.28125C4.40625 3.19531 4.33594 3.125 4.25 3.125H3.15625C3.07031 3.125 3 3.19531 3 3.28125V16.7188C3 16.8047 3.07031 16.875 3.15625 16.875H17.8438C17.9297 16.875 18 16.8047 18 16.7188V15.625C18 15.5391 17.9297 15.4688 17.8438 15.4688ZM6.47266 12.4551C6.5332 12.5156 6.63086 12.5156 6.69336 12.4551L9.39453 9.76758L11.8867 12.2754C11.9473 12.3359 12.0469 12.3359 12.1074 12.2754L17.4863 6.89844C17.5469 6.83789 17.5469 6.73828 17.4863 6.67773L16.7129 5.9043C16.6835 5.87522 16.6439 5.85891 16.6025 5.85891C16.5612 5.85891 16.5216 5.87522 16.4922 5.9043L12 10.3945L9.51172 7.89062C9.48235 7.86155 9.44269 7.84523 9.40137 7.84523C9.36004 7.84523 9.32038 7.86155 9.29102 7.89062L5.70117 11.459C5.67209 11.4884 5.65578 11.528 5.65578 11.5693C5.65578 11.6107 5.67209 11.6503 5.70117 11.6797L6.47266 12.4551Z" />
              </svg>
            </div>

            <h2 className="font-medium">Sales</h2>
          </button>

          <h1 className="text-[#A3A8AD] font-semibold text-sm">Admin Access</h1>
          <button className="h-[42px] w-full bg-white flex items-center gap-2  px-3 rounded-md overflow-hidden">
            <div id="UserIcon">
              <svg
                width="21"
                height="20"
                viewBox="0 0 21 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M17.9219 15.0781H16.3594V13.5156C16.3594 13.4297 16.2891 13.3594 16.2032 13.3594H15.2657C15.1797 13.3594 15.1094 13.4297 15.1094 13.5156V15.0781H13.5469C13.461 15.0781 13.3907 15.1484 13.3907 15.2344V16.1719C13.3907 16.2578 13.461 16.3281 13.5469 16.3281H15.1094V17.8906C15.1094 17.9766 15.1797 18.0469 15.2657 18.0469H16.2032C16.2891 18.0469 16.3594 17.9766 16.3594 17.8906V16.3281H17.9219C18.0079 16.3281 18.0782 16.2578 18.0782 16.1719V15.2344C18.0782 15.1484 18.0079 15.0781 17.9219 15.0781ZM7.79497 9.73438C7.77739 9.56445 7.76763 9.39258 7.76763 9.21875C7.76763 8.9082 7.79692 8.60547 7.85161 8.31055C7.86528 8.24023 7.82817 8.16797 7.76372 8.13867C7.4981 8.01953 7.25395 7.85547 7.04302 7.64844C6.79446 7.40744 6.59887 7.11727 6.46873 6.79645C6.33859 6.47563 6.27675 6.13121 6.28716 5.78516C6.30474 5.1582 6.55669 4.5625 6.99614 4.11328C7.47856 3.61914 8.127 3.34961 8.81645 3.35742C9.4395 3.36328 10.0411 3.60352 10.4961 4.0293C10.6504 4.17383 10.7833 4.33398 10.8946 4.50586C10.9336 4.56641 11.0098 4.5918 11.0762 4.56836C11.42 4.44922 11.7833 4.36523 12.1563 4.32617C12.2657 4.31445 12.3282 4.19727 12.2793 4.09961C11.6446 2.84375 10.3477 1.97656 8.8477 1.95313C6.68364 1.91992 4.87896 3.69531 4.87896 5.85938C4.87896 7.08594 5.44341 8.17969 6.32817 8.89648C5.70708 9.18359 5.13481 9.58008 4.63872 10.0762C3.56841 11.1445 2.96294 12.5547 2.92388 14.0605C2.92336 14.0814 2.92701 14.1021 2.93463 14.1215C2.94225 14.141 2.95368 14.1586 2.96824 14.1736C2.9828 14.1885 3.0002 14.2004 3.01942 14.2084C3.03863 14.2165 3.05928 14.2207 3.08013 14.2207H4.17583C4.25981 14.2207 4.33013 14.1543 4.33208 14.0703C4.36919 12.9375 4.82817 11.877 5.63481 11.0723C6.20903 10.498 6.91216 10.0996 7.67974 9.90625C7.75395 9.88477 7.80474 9.8125 7.79497 9.73438ZM16.5938 9.21875C16.5938 7.08203 14.877 5.3457 12.7481 5.3125C10.584 5.2793 8.7813 7.05469 8.7813 9.21875C8.7813 10.4453 9.34771 11.5391 10.2305 12.2559C9.60299 12.5467 9.03173 12.9461 8.54302 13.4355C7.4727 14.5039 6.86724 15.9141 6.82817 17.418C6.82765 17.4388 6.83131 17.4596 6.83893 17.479C6.84655 17.4984 6.85797 17.5161 6.87253 17.531C6.8871 17.5459 6.9045 17.5578 6.92371 17.5659C6.94293 17.574 6.96357 17.5781 6.98442 17.5781H8.07817C8.16216 17.5781 8.23247 17.5117 8.23442 17.4277C8.27153 16.2949 8.73052 15.2344 9.53716 14.4297C10.379 13.5879 11.4961 13.125 12.6875 13.125C14.8438 13.125 16.5938 11.377 16.5938 9.21875ZM14.4551 10.9863C13.9825 11.459 13.3555 11.7188 12.6875 11.7188C12.0196 11.7188 11.3926 11.459 10.92 10.9863C10.6841 10.7517 10.4977 10.4721 10.3719 10.1641C10.2461 9.85613 10.1834 9.52603 10.1875 9.19336C10.1934 8.55274 10.4493 7.93359 10.8965 7.47461C11.3653 6.99414 11.9922 6.72656 12.6622 6.71875C13.3243 6.71289 13.9668 6.9707 14.4395 7.43359C14.9239 7.9082 15.1895 8.54297 15.1895 9.21875C15.1875 9.88672 14.9278 10.5137 14.4551 10.9863Z" />
              </svg>
            </div>

            <h2 className="text-[#2D3657] font-medium grow">User Management</h2>
            <div id="arrow" className="">
              <svg
                width="11"
                height="18"
                fill="none"
                viewBox="0 0 11 18"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.8335 1.66666L9.16683 8.99999L1.8335 16.3333"
                  stroke="#2D3657"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
          </button>
        </nav>
        <div
          onClick={handleToggleNav}
          id="closeBtn"
          className="w-fit h-fit p-4 lg:hidden"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M16.0642 8.31567C16.0642 8.21255 15.9798 8.12817 15.8767 8.12817L14.3298 8.13521L12.0001 10.9125L9.67275 8.13755L8.12354 8.13052C8.02041 8.13052 7.93604 8.21255 7.93604 8.31802C7.93604 8.36255 7.95244 8.40474 7.98057 8.43989L11.0298 12.0727L7.98057 15.7032C7.95225 15.7375 7.93653 15.7805 7.93604 15.825C7.93604 15.9282 8.02041 16.0125 8.12354 16.0125L9.67275 16.0055L12.0001 13.2282L14.3274 16.0032L15.8743 16.0102C15.9774 16.0102 16.0618 15.9282 16.0618 15.8227C16.0618 15.7782 16.0454 15.736 16.0173 15.7008L12.9728 12.0704L16.022 8.43755C16.0501 8.40474 16.0642 8.36021 16.0642 8.31567Z" />
            <path d="M12 1.52344C6.20156 1.52344 1.5 6.225 1.5 12.0234C1.5 17.8219 6.20156 22.5234 12 22.5234C17.7984 22.5234 22.5 17.8219 22.5 12.0234C22.5 6.225 17.7984 1.52344 12 1.52344ZM12 20.7422C7.18594 20.7422 3.28125 16.8375 3.28125 12.0234C3.28125 7.20938 7.18594 3.30469 12 3.30469C16.8141 3.30469 20.7188 7.20938 20.7188 12.0234C20.7188 16.8375 16.8141 20.7422 12 20.7422Z" />
          </svg>
        </div>
      </div>
    </>
  );
};
